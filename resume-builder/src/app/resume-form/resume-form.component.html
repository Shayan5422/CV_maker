<!-- // src/app/components/resume-form/resume-form.component.html -->
<div class="resume-form-container">
    <div class="resume-form-card">
        <h2>{{ isEditing ? 'Edit Resume' : 'Create New Resume' }}</h2>

        <form [formGroup]="resumeForm" (ngSubmit)="onSubmit()">
            <div class="form-group">
                <label for="title">Title</label>
                <input 
                    type="text" 
                    id="title"
                    formControlName="title"
                    [ngClass]="{ 'is-invalid': submitted && f['title'].errors }"
                >
                <div *ngIf="submitted && f['title'].errors" class="invalid-feedback">
                    <div *ngIf="f['title'].errors['required']">Title is required</div>
                </div>
            </div>

            <div class="form-group">
                <label for="full_name">Full Name</label>
                <input 
                    type="text" 
                    id="full_name"
                    formControlName="full_name"
                    [ngClass]="{ 'is-invalid': submitted && f['full_name'].errors }"
                >
                <div *ngIf="submitted && f['full_name'].errors" class="invalid-feedback">
                    <div *ngIf="f['full_name'].errors['required']">Full name is required</div>
                </div>
            </div>

            <div class="form-group">
                <label for="email">Email</label>
                <input 
                    type="email" 
                    id="email"
                    formControlName="email"
                    [ngClass]="{ 'is-invalid': submitted && f['email'].errors }"
                >
                <div *ngIf="submitted && f['email'].errors" class="invalid-feedback">
                    <div *ngIf="f['email'].errors['required']">Email is required</div>
                    <div *ngIf="f['email'].errors['email']">Please enter a valid email</div>
                </div>
            </div>

            <div class="form-group">
                <label for="phone">Phone</label>
                <input 
                    type="tel" 
                    id="phone"
                    formControlName="phone"
                    [ngClass]="{ 'is-invalid': submitted && f['phone'].errors }"
                >
                <div *ngIf="submitted && f['phone'].errors" class="invalid-feedback">
                    <div *ngIf="f['phone'].errors['required']">Phone is required</div>
                    <div *ngIf="f['phone'].errors['pattern']">Please enter a valid phone number</div>
                </div>
            </div>

            <div class="form-group">
                <label for="summary">Professional Summary</label>
                <textarea 
                    id="summary"
                    formControlName="summary"
                    rows="4"
                    [ngClass]="{ 'is-invalid': submitted && f['summary'].errors }"
                ></textarea>
                <div *ngIf="submitted && f['summary'].errors" class="invalid-feedback">
                    <div *ngIf="f['summary'].errors['required']">Summary is required</div>
                </div>
            </div>

            <div class="form-group">
                <label for="experience">Experience</label>
                <textarea 
                    id="experience"
                    formControlName="experience"
                    rows="6"
                    [ngClass]="{ 'is-invalid': submitted && f['experience'].errors }"
                ></textarea>
                <div *ngIf="submitted && f['experience'].errors" class="invalid-feedback">
                    <div *ngIf="f['experience'].errors['required']">Experience is required</div>
                </div>
            </div>

            <div class="form-group">
                <label for="education">Education</label>
                <textarea 
                    id="education"
                    formControlName="education"
                    rows="4"
                    [ngClass]="{ 'is-invalid': submitted && f['education'].errors }"
                ></textarea>
                <div *ngIf="submitted && f['education'].errors" class="invalid-feedback">
                    <div *ngIf="f['education'].errors['required']">Education is required</div>
                </div>
            </div>

            <div class="form-group">
                <label for="skills">Skills</label>
                <textarea 
                    id="skills"
                    formControlName="skills"
                    rows="4"
                    [ngClass]="{ 'is-invalid': submitted && f['skills'].errors }"
                ></textarea>
                <div *ngIf="submitted && f['skills'].errors" class="invalid-feedback">
                    <div *ngIf="f['skills'].errors['required']">Skills are required</div>
                </div>
            </div>

            <div class="button-group">
                <button type="submit" class="btn btn-primary" [disabled]="loading">
                    {{ loading ? 'Saving...' : (isEditing ? 'Update' : 'Create') }}
                </button>
                <button type="button" class="btn btn-secondary" (click)="onCancel()">
                    Cancel
                </button>
            </div>
        </form>
    </div>
</div>
