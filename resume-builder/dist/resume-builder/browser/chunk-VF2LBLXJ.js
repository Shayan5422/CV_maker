import{Fa as l,f as s,i as a,j as i,m as u,p,ta as m,ua as h,va as d}from"./chunk-P2CVXROA.js";var g=class o{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://127.0.0.1:8000";apiUrl=`${this.baseUrl}/resumes`;themes=[{id:"modern-blue",name:"Modern Blue",colors:{primary:"#2563eb",secondary:"#1d4ed8",background:"#f8fafc",text:"#1e293b",accent:"#60a5fa"},preview:"assets/themes/modern-blue.png"},{id:"elegant-dark",name:"Elegant Dark",colors:{primary:"#334155",secondary:"#1e293b",background:"#f1f5f9",text:"#0f172a",accent:"#94a3b8"},preview:"assets/themes/elegant-dark.png"},{id:"creative-purple",name:"Creative Purple",colors:{primary:"#7c3aed",secondary:"#6d28d9",background:"#faf5ff",text:"#2e1065",accent:"#a78bfa"},preview:"assets/themes/creative-purple.png"},{id:"nature-green",name:"Nature Green",colors:{primary:"#059669",secondary:"#047857",background:"#f0fdf4",text:"#064e3b",accent:"#6ee7b7"},preview:"assets/themes/nature-green.png"},{id:"coral-sunset",name:"Coral Sunset",colors:{primary:"#f43f5e",secondary:"#e11d48",background:"#fff1f2",text:"#881337",accent:"#fda4af"},preview:"assets/themes/coral-sunset.png"}];getAuthHeaders(){let e=this.authService.getToken();return new m().set("Authorization",`Bearer ${e}`)}getResumes(){let e=this.getAuthHeaders();return console.log("Fetching resumes with headers:",e.get("Authorization")),this.http.get(this.apiUrl,{headers:e}).pipe(a(t=>(console.error("Resume fetch error:",t),s(()=>t))))}getResume(e){let t=this.getAuthHeaders();return this.http.get(`${this.apiUrl}/${e}`,{headers:t}).pipe(a(r=>(console.error("Resume fetch error:",r),s(()=>r))))}createResume(e){let t=this.getAuthHeaders();return console.log("Creating resume with data:",e),this.http.post(this.apiUrl,e,{headers:t}).pipe(i(r=>console.log("Create response:",r)),a(r=>(console.error("Resume creation error:",r),s(()=>r))))}updateResume(e,t){let r=this.getAuthHeaders();return console.log("Updating resume with data:",t),this.http.put(`${this.apiUrl}/${e}`,t,{headers:r}).pipe(i(n=>console.log("Update response:",n)),a(n=>(console.error("Resume update error:",n),s(()=>n))))}deleteResume(e){let t=this.getAuthHeaders();return this.http.delete(`${this.apiUrl}/${e}`,{headers:t}).pipe(a(r=>(console.error("Resume deletion error:",r),s(()=>r))))}downloadResumePDF(e,t){let r=this.getAuthHeaders().set("Accept","application/pdf"),n=new h().set("theme",t);return console.log("Downloading PDF with headers:",r.get("Authorization")),this.http.get(`${this.apiUrl}/${e}/pdf`,{params:n,responseType:"blob",headers:r}).pipe(a(c=>(console.error("PDF download error:",c),s(()=>c))))}getThemes(){return this.themes}static \u0275fac=function(t){return new(t||o)(p(d),p(l))};static \u0275prov=u({token:o,factory:o.\u0275fac,providedIn:"root"})};export{g as a};
